import{S as e,r as s,j as d}from"./index-CgAaYQMV.js";import{c as C,v as A,g as Y,e as N,s as ee,T as R,f as te,h as ne,j as ae,P as se,C as oe,d as D,b as ie}from"./Page-B5FUaLlT.js";import{L as w}from"./Layout-cJN80uoL.js";var $=function(i){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},i),e.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};$.displayName="MinusIcon";const ce=s.createContext(!1);var a={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},o={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function re({id:n,label:i,disabled:c,error:r,children:h,labelHidden:l,helpText:u,onClick:t,labelClassName:_,fill:M,bleed:m,bleedBlockStart:p,bleedBlockEnd:P,bleedInlineStart:L,bleedInlineEnd:v,tone:E}){const O=C(o.Choice,l&&o.labelHidden,c&&o.disabled,E&&o[A("tone",E)],_),T={...N("choice","bleed-block-end","space",P||m),...N("choice","bleed-block-start","space",p||m),...N("choice","bleed-inline-start","space",L||m),...N("choice","bleed-inline-end","space",v||m),...Object.fromEntries(Object.entries(Y("choice","fill",M)).map(([x,B])=>[x,B?"100%":"auto"]))},y=e.createElement("label",{className:O,htmlFor:n,onClick:t,style:ee(T)},e.createElement("span",{className:o.Control},h),e.createElement("span",{className:o.Label},e.createElement(R,{as:"span",variant:"bodyMd"},i))),I=u?e.createElement("div",{className:o.HelpText,id:W(n)},e.createElement(R,{as:"span",tone:c?void 0:"subdued"},u)):null,S=r&&typeof r!="boolean"&&e.createElement("div",{className:o.Error},e.createElement(te,{message:r,fieldID:n})),j=I||S?e.createElement("div",{className:o.Descriptions},S,I):null;return j?e.createElement("div",null,y,j):y}function W(n){return`${n}HelpText`}const le=s.forwardRef(function({ariaControls:i,ariaDescribedBy:c,label:r,labelHidden:h,checked:l=!1,helpText:u,disabled:t,id:_,name:M,value:m,error:p,onChange:P,onFocus:L,onBlur:v,labelClassName:E,fill:O,bleed:T,bleedBlockStart:y,bleedBlockEnd:I,bleedInlineStart:S,bleedInlineEnd:j,tone:x},B){const b=s.useRef(null),q=s.useId(),f=_??q,z=s.useContext(ce);s.useImperativeHandle(B,()=>({focus:()=>{b.current&&b.current.focus()}}));const J=()=>{v&&v()},K=()=>{P==null||b.current==null||t||(P(b.current.checked,f),b.current.focus())},k=[];p&&typeof p!="boolean"&&k.push(ae(f)),u&&k.push(W(f)),c&&k.push(c);const U=k.length?k.join(" "):void 0,V=C(a.Checkbox,p&&a.error),g=l==="indeterminate",H=!g&&!!l,Z=g?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":H},G=e.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},e.createElement("path",{className:C(l&&a.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),Q=C(a.Input,g&&a["Input-indeterminate"],x&&a[A("tone",x)]),X={helpText:u,error:p,bleed:T,bleedBlockStart:y,bleedBlockEnd:I,bleedInlineStart:S,bleedInlineEnd:j};return e.createElement(re,Object.assign({id:f,label:r,labelHidden:h,disabled:t,labelClassName:C(a.ChoiceLabel,E),fill:O,tone:x},X),e.createElement("span",{className:V},e.createElement("input",Object.assign({ref:b,id:f,name:M,value:m,type:"checkbox",checked:H,disabled:t,className:Q,onBlur:J,onChange:de,onClick:K,onFocus:L,"aria-invalid":p!=null,"aria-controls":i,"aria-describedby":U,role:z?"presentation":"checkbox"},Z)),e.createElement("span",{className:a.Backdrop,onClick:F,onKeyUp:F}),e.createElement("span",{className:C(a.Icon,!g&&a.animated)},g?e.createElement(ne,{source:$}):G)))});function de(){}function F(n){n.stopPropagation()}function me(){const[n,i]=s.useState(""),[c,r]=s.useState(!1),[h,l]=s.useState("");s.useEffect(()=>{fetch("/api/get-settings").then(t=>t.json()).then(t=>{i(t.fee||""),r(t.enabled||!1),l(t.minOrder||"")})},[]);const u=async()=>{await fetch("/api/set-settings",{method:"POST",body:JSON.stringify({fee:n,enabled:c,minOrder:h}),headers:{"Content-Type":"application/json"}}),alert("Settings saved!")};return d.jsx(se,{title:"Settings",children:d.jsx(w,{children:d.jsx(w.Section,{children:d.jsxs(oe,{title:"Shipping Protection Settings",sectioned:!0,children:[d.jsx(le,{label:"Enable Shipping Protection",checked:c,onChange:t=>r(t)}),d.jsx(D,{label:"Protection Fee ($)",value:n,onChange:i,type:"number"}),d.jsx(D,{label:"Minimum Order Amount for Protection ($)",value:h,onChange:l,type:"number"}),d.jsx(ie,{primary:!0,onClick:u,style:{marginTop:"10px"},children:"Save Settings"})]})})})})}export{me as default};
